<!DOCTYPE html>
<html lang=fa-IR>

<head>
    <meta charset=utf-8>
    <title>Maximum subarray problem</title>
</head>

<body onload="main()">
    <b>Description: </b>

    <p>
        Given an integer array, find the contiguous subarray which has the largest sum...
    </p>
   
    -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    <br/>

    input: <span id=input></span> <br />
    output: <b id=output></b>, sum: <b id=sum></b>

    <script>


        function main() {
            var nums, outputObj;
            
            nums = [-2, 1, -3, 4, -1, 2, 1, -5, 4];

            outputObj = maxSubArr(nums);

            document.getElementById("input").innerHTML = '[' + nums.join(', ') + ']';
            document.getElementById("output").innerHTML = '[' + outputObj.nums.join(', ') + ']';
            document.getElementById("sum").innerHTML = '[' + outputObj.sum + ']';
        }



        function maxSubArr(nums) {
            let localMax, globalMax, n, i, start, stratTemp, end;

            n = nums.length;
            localMax = globalMax = nums[0];
            start = stratTemp = end = 0;

            for (i = 1; i < n; i++) {
                localMax = Math.max(nums[i], (localMax + nums[i]));
                globalMax = Math.max(globalMax, localMax);

                if (localMax < 0) {
                    stratTemp = i + 1;
                } else if (globalMax == localMax) {
                    start = stratTemp;
                    end = i;
                }

            }

            return {
                'nums': nums.slice(start, end + 1),
                'sum': globalMax
            };
        }


         /* 
        =-=-=-=-=-=-=-=-=-=-=start python-=-=-=-=-=-=-=-=-=-=-

        class Solution:
            def maxSubArray(self, nums: List[int]) -> int:
                local_max = global_max = nums[0]
                for x in nums[1:]:
                    local_max = max(x, local_max + x)
                    global_max = max(global_max, local_max)
                return global_max

        =-=-=-=-=-=-=-=-=-=-=end python-=-=-=-=-=-=-=-=-=-=-

        =-=-=-=-=-=-=-=-=-=-=start javascript-=-=-=-=-=-=-=-=-=-=-
        var maxSubArray = function (nums) {
            var localMax, globalMax, i;
            localMax = globalMax = nums[0];
            for (i = 1; i < nums.length; i++) {
                localMax = Math.max(nums[i], (localMax + nums[i]));
                globalMax = Math.max(localMax, globalMax);
            }
            return globalMax
        }
        =-=-=-=-=-=-=-=-=-=-=end javascript-=-=-=-=-=-=-=-=-=-=-
        */



    </script>

</body>

</html>